<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="fr"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="fr"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="fr"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
	<link rel="apple-touch-icon" sizes="57x57" href="apple-touch-icon-57x57.png" />
	<link rel="apple-touch-icon" sizes="114x114" href="apple-touch-icon-114x114.png" />
	<link rel="apple-touch-icon" sizes="72x72" href="apple-touch-icon-72x72.png" />
	<link rel="apple-touch-icon" sizes="144x144" href="apple-touch-icon-144x144.png" />

    <title>{{.Title}}</title>

    <link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/bootstrap-responsive.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body>
  
      <div class="navbar navbar-inverse">
      <div class="navbar-inner">
        <div class="container">
			<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</a>
			<div class="nav-collapse">
				<ul class="nav navbar-nav">
					<li><a href="/home" title="">{{.Hostname}}</a></li>
					<li><a href="/hosts" title="Fichier des hosts">Hosts</a></li>
					<li class="active"><a href="/ping" title="">Ping</a></li>
					<li><a href="/connect" title="">Connect</a></li>
				</ul>
			</div>		   
        </div>
      </div>
    </div><!-- /.navbar -->
  
    <div class="container-fluid">
		<div class="row-fluid">
			<div class="span12">	
				<label for="hostName">Machine</label>
				<input type="text" name="hostName" id="hostName" placeholder="Adresse IP ou nom complet" required>
				<button class="btn btn-primary" type="button" id="cmdLookupHost">LookupHost</button>
			</div>
		</div>
		<div class="row-fluid">
			<div class="span4">	
				<div id="frmLookupMsg"></div>
			</div>
        </div>
	</div>
  
        <!-- FOOTER -->
      <footer>
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span6">
					<h4>À propos</h4>
					<p>&copy; 2013 SNCF &middot; DSI-T SO A&E INGPRO </p>
				</div>
				<div class="span6">
					<p class="pull-right"><a href="#">Revenir en haut</a></p>
				</div>
			</div>
		</div>
      </footer>
	  
    <script src="/js/jquery.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>	
	<script>
	$(function() {
		//Button : cmdLookupHost
		$("#cmdLookupHost").click(function() {
			$('body').css({'cursor':'progress'});
			var jqxhr = $.ajax({
				type: "POST",
				url: "/lookup",
				data: { hostName: $("#hostName").val() }
			})
			.always(function() {
				$('body').css({'cursor':'default'});
			})
			.done(function(data, textStatus, jqXHR) {
				$('#frmLookupMsg').html('<div class="alert"><a class="close" data-dismiss="alert">×</a><span>IP : ' + data + '</span></div>');
			})
			.fail(function(jqXHR, textStatus, errorThrown) {
				$('#frmLookupMsg').html('<div class="alert"><a class="close" data-dismiss="alert">×</a><span>IP : ' + textStatus + '</span></div>');
			});
		});
	
	
	});
	</script>
	
  </body>
</html>